const editNav=()=>{var e=document.querySelector("#myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},burgerMenu=document.querySelector(".burger-menu");burgerMenu.addEventListener("click",editNav);const modalbg=document.querySelector(".bground"),closeEvent=document.querySelector(".close"),modalBtn=document.querySelectorAll(".modal-btn"),formData=document.querySelectorAll(".formData");modalBtn.forEach(e=>e.addEventListener("click",()=>launchModal()));const launchModal=()=>{modalbg.style.display="block";const e=document.querySelector("body");e.style.overflow="hidden",window.scrollTo(0,0)};closeEvent.addEventListener("click",()=>closeModal());const closeModal=()=>{modalbg.style.display="none";const e=document.querySelector("body");e.style.overflow="scroll"},successFormBtn=document.querySelector(".success-form-button");successFormBtn.addEventListener("click",e=>{e.preventDefault(),clearForm()});const clearForm=()=>{const e=document.querySelector(".form");e.classList.remove("hide"),e.reset();const t=document.querySelector(".success-form");t.classList.add("hide"),t.textContent="";const s=document.querySelector(".button-success");return s.classList.add("hide"),clearAllSuccessInput(),closeModal()},submit=document.querySelector(".btn-submit");submit.addEventListener("click",e=>{e.preventDefault(),validForm()});const validForm=()=>{let e=validString("firstName"),t=validString("lastName"),s=validEmail(),r=validBirthDate(),o=validNumber(),a=validRadioInput(),l=validConditionsGenerales();return!!(e&&t&&s&&r&&o&&a&&l)&&(submitForm(),!0)},submitForm=()=>{const e=document.querySelector(".form");e.classList.add("hide");const t=document.querySelector(".success-form");t.classList.remove("hide"),t.textContent="Merci pour les informations !";const s=document.querySelector(".button-success");s.classList.remove("hide")},validString=e=>{const t=document.querySelector(`#${e}`),s=/^([a-zA-Zà-üÀ-Ü0-9_ \s'-]){2,}$/g;return s.test(t.value)?(displayErrorMessage(e,""),successInput(e),!0):(displayErrorMessage(e,"Nom saisi invalide"),!1)},validEmail=()=>{const e=document.querySelector("#email"),t=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/g;return t.test(e.value)?(displayErrorMessage("email",""),successInput("email"),!0):(displayErrorMessage("email","Email saisi invalide"),!1)},validBirthDate=()=>{const e=document.querySelector("#birthdate"),t=new Date(e.value),s=new Date;s.setFullYear(s.getFullYear()-18);const r=new Date;return r.setFullYear(r.getFullYear()-100),t>r&&t<s?(displayErrorMessage("birthdate",""),successInput("birthdate"),!0):(displayErrorMessage("birthdate","Date de naissance non valide"),!1)},validNumber=()=>{const e=document.querySelector("#quantity"),t=/^(0|[1-9][0-9]?)$/;return t.test(e.value)?(displayErrorMessage("quantity",""),successInput("quantity"),!0):(displayErrorMessage("quantity","Veuillez saisir un nombre valide"),!1)},validRadioInput=()=>{const e=document.querySelectorAll('input[name="location"]');let t=!1;return e.forEach(e=>{e.checked&&(t=e.value)}),t?(displayErrorMessage("location",""),!0):(displayErrorMessage("location","Veuillez sélectionner une localisation"),!1)},validConditionsGenerales=()=>{const e=document.querySelector("#checkbox1");return e.checked?(displayErrorMessage("checkbox1",""),!0):(displayErrorMessage("checkbox1","Veuillez accepter les conditions d'utilisateur"),!1)},displayErrorMessage=(e,t)=>{const s=document.querySelector(`#${e}`);if(s){const e=s.closest("div");e.setAttribute("data-error",t),t?(s.classList.contains("valid-input")&&s.classList.remove("valid-input"),e.setAttribute("data-error-visible","true")):e.removeAttribute("data-error-visible")}},successInput=e=>{const t=document.querySelector(`#${e}`);t&&t.classList.add("valid-input")},clearAllSuccessInput=()=>{const e=document.querySelectorAll(".text-control");e.forEach(e=>{e&&e.classList.remove("valid-input")})},firstnameField=document.querySelector("#firstName");firstnameField.addEventListener("focusout",()=>{validString("firstName")});const lastnameField=document.querySelector("#lastName");lastnameField.addEventListener("focusout",()=>{validString("lastName")});const emailField=document.querySelector("#email");emailField.addEventListener("focusout",()=>{validEmail()});const birthdateField=document.querySelector("#birthdate");birthdateField.addEventListener("focusout",()=>{validBirthDate()});const quantityField=document.querySelector("#quantity");quantityField.addEventListener("focusout",()=>{validNumber()});const locationInputs=document.querySelectorAll('input[name="location"]');locationInputs.forEach(e=>{e.addEventListener("change",()=>{validRadioInput()})});const conditionsGenerales=document.querySelector("#checkbox1");conditionsGenerales.addEventListener("change",()=>{validConditionsGenerales()});